# Bible Importer Environment Configuration
# Copy this file to .env and update with your actual values

# =============================================================================
# AZURE STORAGE CONFIGURATION
# =============================================================================
# Your Azure Storage Account name (required)
AZURE_STORAGE_ACCOUNT_NAME=your_storage_account_name

# Authentication - choose ONE of the following methods:
# Method 1: Storage Account Key
AZURE_STORAGE_ACCOUNT_KEY=your_storage_account_key

# Method 2: Connection String (alternative to account key)
# AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=...

# Method 3: Managed Identity (for Azure-hosted applications)
# AZURE_USE_MANAGED_IDENTITY=true

# Blob container name for XML files
AZURE_BLOB_CONTAINER_NAME=bible-translations

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Azure SQL Database server (required)
DB_SERVER=your_server.database.windows.net

# Database name (required)
DB_DATABASE=BibleAPI

# Authentication - choose ONE of the following methods:
# Method 1: SQL Authentication
DB_USERNAME=your_username
DB_PASSWORD=your_password

# Method 2: Azure AD Authentication (alternative to SQL auth)
# DB_USE_AZURE_AD=true

# Connection settings
DB_DRIVER=ODBC Driver 18 for SQL Server
DB_CONNECTION_TIMEOUT=30
DB_COMMAND_TIMEOUT=300

# Performance settings
DB_BATCH_SIZE=2000
DB_MAX_RETRIES=3
DB_RETRY_DELAY=1.0

# =============================================================================
# IMPORT CONFIGURATION
# =============================================================================
# General settings
IMPORTER_DRY_RUN=false
IMPORTER_SKIP_EXISTING=true
IMPORTER_SHOW_PROGRESS=true

# Logging settings
IMPORTER_LOG_LEVEL=INFO
# IMPORTER_LOG_FILE=bible_import.log

# Performance settings
IMPORTER_STREAMING_THRESHOLD_MB=100
IMPORTER_MEMORY_LIMIT_MB=500

# Error handling
IMPORTER_CONTINUE_ON_ERROR=false
IMPORTER_MAX_ERRORS=100

# =============================================================================
# EXAMPLE CONFIGURATIONS FOR DIFFERENT SCENARIOS
# =============================================================================

# For small XML files (< 50MB) and limited memory systems:
# DB_BATCH_SIZE=1000
# IMPORTER_STREAMING_THRESHOLD_MB=25
# IMPORTER_MEMORY_LIMIT_MB=200

# For large XML files (> 200MB) and high-memory systems:
# DB_BATCH_SIZE=5000
# IMPORTER_STREAMING_THRESHOLD_MB=200
# IMPORTER_MEMORY_LIMIT_MB=1000

# For debugging and troubleshooting:
# IMPORTER_LOG_LEVEL=DEBUG
# IMPORTER_DRY_RUN=true
# IMPORTER_LOG_FILE=bible_import_debug.log